from flask import Flask, render_template, url_for, flash, redirect
from formsApp.form import FormSearchProduct
from models.producto import Producto
from IAProcess.recognizeProduct import ProcessInformation


app = Flask(__name__, static_folder='static')
app.config['SECRET_KEY'] = 'KKJRE54573FSLKD*DF5FDLOLYSVVFW83472386JXT'

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/search', methods=['GET', 'POST'])
def search():
    form = FormSearchProduct()
    if form.validate_on_submit():
        flash(f'Form submitted successfully! Name: {form.productName.data}', 'success')
        ProcessInformation(form.productName.data)
        return redirect(url_for('products'))  # Redirige a una página de resultados
    return render_template('search.html', form=form)

@app.route('/products')
def products():
    # Aquí podrías listar productos o mostrar detalles de un producto específico
    products = [Producto("jabon","jabon descripcion", "5000", "data:image/jpeg;base64,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",""),]
    return render_template('products.html', productos = products)

@app.route('/products/details/<int:id>')
def itemDetails(id):
    # Aquí podrías obtener y mostrar los detalles de un producto específico basado en el ID
    return render_template('productDetails.html', product_id=id)

if __name__ == '__main__':
    app.run(debug=True)
